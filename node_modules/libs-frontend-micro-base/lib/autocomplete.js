export function autocomplete(val, array, filterByField) {
    /*the autocomplete function takes 3 arguments,
    the value of text entered, an array object and field in object by which we need to filter*/
    /*execute a function when someone writes in the text field:*/
    /*close any already open lists of autocompleted values*/
    val = val.trim();
    if (!val) { 
        return []; 
    }

    var filteredData = array.filter(function(data) {
        // if (data.length == 2) data[2] = 1;
        if (!data.weightage) data.weightage = 1;
        var indx = data[filterByField].toLowerCase().indexOf(val.toLowerCase());
        if (indx !== -1) {
            //add more weight to country which starts with val based on index
            if(indx === 0) {
                data.weightage += 10;
            }
            
            return data;
        }
    });

    // sort descending by relevancy weights
    filteredData.sort(function (a, b) {
        var aWeight = a.weightage;
        var bWeight = b.weightage;
        if (aWeight === bWeight) return a[0] > b[0];
        else return aWeight > bWeight ? -1 : 1;
    });

    return filteredData;
};